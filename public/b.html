<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Sign Up | By Code Info</title>
    <link rel="stylesheet" href="signup.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <h1>Smart Mobility</h1>
    <br>
    <div class="signup-box">
      <h3>Sign Up</h3>
      <br>
      <form>
        <input type="text" id="Firstname" name="Firstname" placeholder="Firstname" />
        <input type="text" id="Lastname" name="Lastname" placeholder="Lastname" />
        <input type="text" id="email" name="email" placeholder="E-mail" />
        <input type="text" id="phonenumber" name="phonenumber" placeholder="phonenumber" />
        <input type="password" id="password" name="password" placeholder="Password" />
        <input type="password" id="password2" name="password2" placeholder="Retype password" />
        
        <input type="submit" id="saveData" name="signup_submit" value="save" />
        <input type="submit" id="getData" name="signup_submit" value="get" />
        <!-- <input type="submit" id="updateData" name="signup_submit" value="update" />
        <input type="submit" id="removeData" name="signup_submit" value="remove" />
        <input type="submit" id="getData" name="signup_submit" value="getData" /> -->
      </form>
      <p>
        By clicking the Sign Up button,you agree to our <br />
        <a href="#">Terms and Condition</a> and <a href="#">Policy Privacy</a>
      </p>
    </div>
    <p class="para-2">
      Already have an account? <a href="login.html">Login here</a>
    </p>
  </body>
    
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js";
      import { getDatabase, ref, set, onValue, update, remove } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-database.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      const firebaseConfig = {
        //****************** add your configaration here *******************//
        apiKey: "AIzaSyDghAAvMSGvON4Lmd-jop0VyjOiAC5t8lM",
      authDomain: "smart-mobility-ios.firebaseapp.com",
      databaseURL: "https://smart-mobility-ios-default-rtdb.firebaseio.com",
      projectId: "smart-mobility-ios",
      storageBucket: "smart-mobility-ios.appspot.com",
      messagingSenderId: "727144855934",
      appId: "1:727144855934:web:2ca21a0d262114a85ddb2f",
      measurementId: "G-5SNWQ6NS22"
    
      };
    
        // Initialize Firebase
         const app = initializeApp(firebaseConfig);
         const database = getDatabase(app);
    
        saveData.addEventListener('click',(e) => {
        var Firstname = document.getElementById('Firstname').value;
        var Lastname = document.getElementById('Lastname').value;
        var email = document.getElementById('email').value;
        var phonenumber = document.getElementById('phonenumber').value;
        var password = document.getElementById('password').value;
    
        set(ref(database, 'admin-signup-users/' + Firstname), {
    
         Firstname: Firstname,
         Lastname:Lastname,
         email: email,
         phonenumber:phonenumber,
         password : password
    
         });
    
        alert('saved');
        });
    
        // get data
        getData.addEventListener('click',(e) => {
          var Firstname = document.getElementById('Firstname').value;
    
          const starCountRef = ref(database, 'admin-signup-users/' + Firstname);
          onValue(starCountRef, (snapshot) => {
          const data = snapshot.val(); // data = all data on firebse
          
          document.getElementById('email').value = data.email;
          })
        });
    
        // // update data
        // updateData.addEventListener('click',(e) => {
        //  var Firstname = document.getElementById('Firstname').value;
        //  var email = document.getElementById('email').value;
          
        // update(ref(database, 'admin-users/' + Firstname),{
        //   email: email,
        //   Firstname: Firstname, 
        //   })
        //   alert('updated');
        // });
    
        // // remove data
        // removeData.addEventListener('click',(e) => {
        //  var Firstname = document.getElementById('Firstname').value;
        
        //  remove(ref(database, 'admin-users/' + Firstname));
        //  alert('removed');
        // });
    
    </script>
    
    </html>

