<!DOCTYPE html>
<html lang="en">

<head>


    <title>Manage Riders</br></title>
   

</head>

<body>
    <link rel="stylesheet" href="riders.css">
   


    
    <div class="topnav">
        <a class="active" href="index.html">Home</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        
    </div>
   

    <h1 class="M_Riders">Manage Bikes  &emsp;

    <input type="text" placeholder="Search..">&emsp;&emsp;&emsp;&emsp;
    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
    
    <label for="create">+</label>&emsp;
    <label for="remove">-</label><br>

  </h1>
    <br>

    
    <table id="example" class="display" style="width:100%">
      <thead>
          <tr>
              <th>Sno</th>
              <th>ID</th>
              <th>Location</th>
           
              
          </tr>
          <td>Rider1</td>
      </thead>
      <tbody>
          <tr>
            
            <td><input type="text" id="riderno" name="riderno" placeholder="riderno" />
              
              <td><input type="text" id="id" name="id" placeholder="id" />
              <td><input type="text" id="location" name="location" placeholder="location" /></td>
              <td><input type="submit" id="saveData" name="submit" value="send request" />
              
              </select></td>
          </tr>
          
          <!-- <td>Rider2</td>
          <tr>
            
            <td><input type="text" id="row-1-age" name="row-1-age" value=""></td>
              <td><input type="text" id="row-1-age" name="row-1-age" value=""></td>
              <td><input type="text" id="row-1-position" name="row-1-position" value=""></td>
            
                  
              </select></td>
          </tr>

          <td>Rider3</td>
          <tr>
            
            <td><input type="text" id="row-1-age" name="row-1-age" value=""></td>
              <td><input type="text" id="row-1-age" name="row-1-age" value=""></td>
              <td><input type="text" id="row-1-position" name="row-1-position" value=""></td>
             
              
                  
              </select></td>
          </tr>

          <td>Rider4</td>
          <tr>
            
            <td><input type="text" id="row-1-age" name="row-1-age" value=""></td>
              <td><input type="text" id="row-1-age" name="row-1-age" value=""></td>
              <td><input type="text" id="row-1-position" name="row-1-position" value=""></td>
            
              
                  
              </select></td>
          </tr>

          <td>Rider5</td>
          <tr>
            
            <td><input type="text" id="row-1-age" name="row-1-age" value=""></td>
              <td><input type="text" id="row-1-age" name="row-1-age" value=""></td>
              <td><input type="text" id="row-1-position" name="row-1-position" value=""></td>
          
                  
              </select></td>
          </tr> -->

        
      </tbody>


      <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js";
        import { getDatabase, ref, set, onValue, update, remove } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-database.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        const firebaseConfig = {
          //****************** add your configaration here *******************//
          apiKey: "AIzaSyDghAAvMSGvON4Lmd-jop0VyjOiAC5t8lM",
        authDomain: "smart-mobility-ios.firebaseapp.com",
        databaseURL: "https://smart-mobility-ios-default-rtdb.firebaseio.com",
        projectId: "smart-mobility-ios",
        storageBucket: "smart-mobility-ios.appspot.com",
        messagingSenderId: "727144855934",
        appId: "1:727144855934:web:2ca21a0d262114a85ddb2f",
        measurementId: "G-5SNWQ6NS22"
      
        };
      
          // Initialize Firebase
           const app = initializeApp(firebaseConfig);
           const database = getDatabase(app);
      
          saveData.addEventListener('click',(e) => {
          var riderno = document.getElementById('riderno').value;
          var id = document.getElementById('id').value;
          var location = document.getElementById('location').value;
      
          set(ref(database, 'admin-manage-riders/' + riderno), {
      
           riderno: riderno,
           id : id,
           location : location
      
           });
      
          alert('saved');
          });
      
          // get data
          getData.addEventListener('click',(e) => {
            var riderno = document.getElementById('riderno').value;
      
            const starCountRef = ref(database, 'admin-manage-riders/' + riderno);
            onValue(starCountRef, (snapshot) => {
            const data = snapshot.val(); // data = all data on firebse
            
            document.getElementById('id').value = data.id;
            document.getElementById('location').value = data.location;

            })
          });
      
          // // update data
          // updateData.addEventListener('click',(e) => {
          //  var username = document.getElementById('username').value;
          //  var email = document.getElementById('email').value;
            
          // update(ref(database, 'admin-users/' + username),{
          //   email: email,
          //   username: username, 
          //   })
          //   alert('updated');
          // });
      
          // // remove data
          // removeData.addEventListener('click',(e) => {
          //  var username = document.getElementById('username').value;
          
          //  remove(ref(database, 'admin-users/' + username));
          //  alert('removed');
          // });
      
      </script>


      
</body>

</html>